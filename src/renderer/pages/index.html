<!-- src/renderer/pages/index.html -->

<!doctype html>
<html>
  <head>
    <title>Photobooth App</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fabric.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.2.4/fabric.min.js"></script>

    <style>
      .presetBtn {
        background: #374151;
        color: white;
        padding: 10px 18px;
        border-radius: 999px;
        font-size: 13px;
        font-weight: 600;
        white-space: nowrap;
        transition: 0.15s;
      }

      .presetBtn:hover {
        background: #4b5563;
      }

      .presetBtn:active {
        transform: scale(0.95);
      }

      /* Hide scrollbar */
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
    </style>
  </head>

  <body class="bg-gray-900 font-sans">
    <!-- HEADER -->
    <div class="p-4 flex justify-between items-center">
      <h1 id="titleApp" class="text-2xl text-white font-bold"></h1>
      <button
        id="testBtn"
        class="bg-green-600 text-white px-5 py-2 rounded-lg shadow hover:bg-green-700 active:scale-95 transition"
      >
        TEST IPC
      </button>
    </div>

    <!-- CAMERA PREVIEW -->
    <div class="p-4 mt-4 flex flex-col items-center gap-8">
      <!-- VIDEO WRAPPER -->
      <div class="relative flex justify-center items-center">
        <!-- VIDEO -->
        <video
          id="cameraPreview"
          autoplay
          playsinline
          class="w-[720px] h-[480px] bg-black rounded-xl shadow-lg object-contain"
        ></video>
        <!-- COUNTDOWN OVERLAY -->
        <div
          id="countdownText"
          class="absolute text-8xl font-bold text-red-600 hidden flex items-center justify-center"
        >
          3
        </div>
      </div>
      <button
        id="captureBtn"
        class="bg-red-600 text-white px-6 py-2 rounded-xl shadow hover:bg-red-700 active:scale-95 transition"
      >
        CAPTURE PHOTO
      </button>
    </div>

    <!-- EDITOR PREVIEW -->
    <div
      id="editorContainer"
      class="hidden flex flex-col select-none min-h-screen"
    >
      <!-- TOP BAR -->
      <div class="pt-4 px-4 flex items-center justify-between">
        <button
          id="backToCameraBtn"
          class="bg-gray-600 hover:bg-gray-700 active:scale-95 text-white px-5 py-2 rounded-lg font-semibold transition"
        >
          ‚Üê Back
        </button>

        <!-- SAVE BUTTON -->
        <button
          id="saveEditedBtn"
          class="bg-green-600 hover:bg-green-700 active:scale-95 text-white font-bold px-8 py-2 rounded-lg shadow-xl transition"
        >
          SAVE PHOTO
        </button>
      </div>

      <!-- MAIN EDITOR AREA -->
      <div class="flex justify-between items-center relative overflow-hidden">
        <!-- TOOL BAR -->
        <div class="flex flex-col justify-center items-center gap-5 p-4">
          <button
            id="addFrameBtn"
            class="p-4 w-20 h-20 bg-gray-700 hover:bg-gray-600 active:scale-95 text-center text-white rounded-xl font-semibold transition"
          >
            üñº Frame
          </button>

          <button
            id="addTextBtn"
            class="p-4 w-20 h-20 bg-gray-700 hover:bg-gray-600 active:scale-95 text-center text-white rounded-xl font-semibold transition"
          >
            ‚úè Text
          </button>

          <button
            id="addHeartBtn"
            class="p-4 w-20 h-20 bg-gray-700 hover:bg-gray-600 active:scale-95 text-center text-white rounded-xl font-semibold transition"
          >
            ‚ù§Ô∏è Heart
          </button>

          <button
            id="addStarBtn"
            class="p-4 w-20 h-20 bg-gray-700 hover:bg-gray-600 active:scale-95 text-center text-white rounded-xl font-semibold transition"
          >
            ‚≠ê Star
          </button>
        </div>

        <div class="flex-col justify-center items-center">
          <!-- FILTER PRESET BAR -->
          <div
            id="filterBar"
            class="flex justify-center gap-3 px-4 py-2 overflow-x-auto scrollbar-hide mb-4"
          >
            <button data-filter="bw" class="filterBtn presetBtn w-24">
              B&W
            </button>
            <button data-filter="sepia" class="filterBtn presetBtn w-24">
              Sepia
            </button>
            <button data-filter="polaroid" class="filterBtn presetBtn w-24">
              Polaroid
            </button>
            <button data-filter="warm" class="filterBtn presetBtn w-24">
              Warm
            </button>
            <button data-filter="cool" class="filterBtn presetBtn w-24">
              Cool
            </button>
            <button
              data-filter="none"
              class="filterBtn presetBtn bg-red-600 w-24"
            >
              ‚úñ Reset
            </button>
          </div>

          <!-- CANVAS AREA -->
          <div class="flex justify-center items-center max-w-[720px]">
            <canvas id="fabricCanvas" width="720" height="480"></canvas>
          </div>
        </div>

        <!-- RIGHT TOOL PANEL -->
        <div class="w-20 flex flex-col justify-center items-center gap-5">
          <!-- COLOR PICKER -->
          <div class="flex flex-col items-center gap-2">
            <span class="text-white text-xs font-semibold"> Color </span>
            <input
              id="colorPicker"
              type="color"
              value="#FFD700"
              class="w-11 h-11 rounded-full cursor-pointer border-none bg-transparent"
            />
          </div>

          <!-- DIVIDER -->
          <div class="w-10 h-[1px]"></div>

          <!-- UNDO -->
          <button
            id="undoBtn"
            title="Undo"
            class="bg-gray-700 hover:bg-gray-600 active:scale-95 text-white w-12 h-12 flex items-center justify-center rounded-xl transition"
          >
            ‚Ü∂
          </button>

          <!-- REDO -->
          <button
            id="redoBtn"
            title="Redo"
            class="bg-gray-700 hover:bg-gray-600 active:scale-95 text-white w-12 h-12 flex items-center justify-center rounded-xl transition"
          >
            ‚Ü∑
          </button>

          <!-- DIVIDER -->
          <div class="w-10 h-[1px]"></div>

          <!-- DELETE -->
          <button
            id="deleteObjectBtn"
            title="Delete Object"
            class="bg-red-600 hover:bg-red-700 active:scale-95 text-white w-12 h-12 flex items-center justify-center rounded-xl transition"
          >
            üóë
          </button>
        </div>
      </div>
    </div>

    <!-- BACKDROP -->
    <div id="modalBackdrop" class="fixed inset-0 bg-black/50 hidden z-40"></div>

    <!-- PRICE MODAL -->
    <div
      id="priceModal"
      class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl shadow-xl p-6 w-[320px] flex flex-col items-center justify-center gap-4 hidden z-50"
    >
      <h2 class="text-xl font-semibold">Price Settings</h2>

      <input
        id="priceInput"
        type="number"
        placeholder="Enter price (example: 10000)"
        class="w-full border rounded-lg px-3 py-2 text-center focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      <div class="flex gap-3">
        <button
          id="cancelPriceBtn"
          class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition"
        >
          CANCEL
        </button>

        <button
          id="savePriceBtn"
          class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition"
        >
          SAVE
        </button>
      </div>
    </div>

    <!-- TIMER MODAL -->
    <div
      id="timerModal"
      class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl shadow-xl p-6 w-[320px] flex flex-col items-center justify-center gap-4 hidden z-50"
    >
      <h2 class="text-xl font-semibold">Timer Settings</h2>

      <input
        id="timerInput"
        type="number"
        placeholder="Enter timer (seconds)"
        class="w-full border rounded-lg px-3 py-2 text-center focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      <div class="flex gap-3">
        <button
          id="cancelTimerBtn"
          class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition"
        >
          CANCEL
        </button>

        <button
          id="saveTimerBtn"
          class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition"
        >
          SAVE
        </button>
      </div>
    </div>

    <!-- LOAD MAIN RENDERER SCRIPT -->
    <script type="module" src="../index.js"></script>
  </body>
</html>
